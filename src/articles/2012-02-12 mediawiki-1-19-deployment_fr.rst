.. title: Déploiement de MediaWiki 1.19 sur les sites Wikimedia : Testez le logiciel à l'avance
.. clean: no
.. slug: deploiement-mediawiki-1-19-2
.. date: 2012-02-12 03:46:59
.. tags: MediaWiki,Ingénierie,Wikimedia
.. description: 

Nous avons récemment `mis en place une famille de wikis en Beta <http://blog.wikimedia.org/2012/01/28/beta-cluster-test-software-before-deployment/>`__ (appelée « Beta cluster »), afin de répliquer l'environnement d'une sélection de wikis Wikimedia. Cela a permis aux Wikimédiens de tester la nouvelle version à l'avance, et de vérifier qu'elle fonctionnait correctement avec les personalisations propres à leur wiki. Les choses s'annoncent plutôt bien, et nous prévoyons actuellement de réaliser le déploiement en cinq phases **entre le 15 février et le 1\ :sup:`er` mars 2012**. Le calendrier exact est susceptible de changer selon si nous rencontrons des problèmes inattendus ; il est donc recommandé de se référer à la **`feuille de route de MediaWiki 1.19 <http://www.mediawiki.org/wiki/MediaWiki_1.19/Roadmap>`__** (en anglais) pour savoir exactement quand votre wiki sera affecté par la mise à niveau. La plupart des fonctionnalités et des correctifs contenus dans MediaWiki 1.19 sont des changements d'architecture, imperceptibles pour les utilisateurs, tels que le travail effectué afin de rendre possible la `migration vers Swift <http://blog.wikimedia.org/2012/02/09/scaling-media-storage-at-wikimedia-with-swift/>`__ pour notre plate-forme de stockage des fichiers multimedia. Il y a aussi des améliorations plus visibles, telles qu'une meilleure lisibilité des diffs pour les daltoniens, et une meilleure prise en charge du genre et de la langue de l'utilisateur dans l'interface. Une liste de tous les changements effectués est disponible (en anglais) dans les `notes de version <http://svn.wikimedia.org/viewvc/mediawiki/branches/REL1_19/phase3/RELEASE-NOTES-1.19?view=markup>`__.

Vérifiez la compatibilité de JavaScript et des Gadgets avec ResourceLoader
==========================================================================

L'une des améliorations de MediaWiki 1.19 a trait au JavaScript. La plupart des scripts utilisateur, des scripts de site et des `gadgets <http://www.mediawiki.org/wiki/Extension:Gadgets>`__ devraient continuer à fonctionner. Cela dit, il est possible que la nouvelle version soit moins tolérante en ce qui concerne les suppositions et les erreurs présentes dans le code. Par exemple, le fait que JavaScript soit chargé plus rapidement risque de poser des problèmes si un script ne déclare pas explicitement les modules qu'il utilise. De plus, une nouvelle version de `ResourceLoader <http://www.mediawiki.org/wiki/ResourceLoader>`__ sera déployée plus tard cette année ; elle améliorera la gestion des gadgets, mais il sera nécessaire de rendre tous les gadgets compatibles avec ResourceLoader. Il est donc fortement conseillé aux mainteneurs de gadgets de commencer à mettre à jour leurs scripts dès maintenant, afin d'éviter des perturbations majeures plus tard. Le **`guide de migration vers ResourceLoader <http://www.mediawiki.org/wiki/ResourceLoader/Migration_guide_(users)>`__** est le principal document à lire par les développeurs de gadgets. Il existe aussi une `liste des fonctions JavaScript obsolètes <http://www.mediawiki.org/wiki/ResourceLoader/JavaScript_Deprecations>`__ and une `liste des modules de base de ResourceLoader <http://www.mediawiki.org/wiki/ResourceLoader/Default_modules>`__. Tous les documents sont en anglais. Vous pouvez également rejoindre le « \ `Tour de Wiki <http://meta.wikimedia.org/wiki/User:Krinkle/Le_Tour_de_Wik%C3%AD/2011_Resource_Walker>`__ », un effort visant à visiter l'ensemble des wikis Wikimedia afin d'y rendre les scripts JavaScript compatibles avec ResourceLoader. Un atelier `IRC <http://www.mediawiki.org/wiki/IRC>`__ devrait avoir lieu dans quelques semaines pour aider les développeurs de JavaScript ; les détails de l'atelier seront postés sur le blog technique.

Vers des mises à niveau imperceptibles
======================================

Nous essayons de réaliser les mises à niveaux de plus en plus fréquemment, afin de les rendre plus modestes et donc moins susceptibles de causer des problèmes. Nous espérons qu'à terme, elles se dérouleront si bien que les utilisateurs ne se rendront même pas compte qu'elles se sont effectuées, hormis en voyant les nouvelles fonctionnalités apparaître. Nous n'avons pas encore atteint ce but, mais nous avons fait des progrès cette année, et nous continuons nos efforts dans cette voie, autant pour les développeurs que pour les utilisateurs. En attendant, veuillez nous excuser si, malgré nos efforts, vous rencontrez des problèmes dus à la mise à niveau ; nous les corrigerons dès que possible. Il n'est pas trop tard pour vous rendre sur le `Beta cluster <http://labs.wikimedia.beta.wmflabs.org>`__ et y `indiquer les potentiels problèmes <http://labs.wikimedia.beta.wmflabs.org/wiki/Problem_reports>`__ que vous rencontrez. Vous pouvez aussi utiliser notre `système de gestion de bugs <https://bugzilla.wikimedia.org/enter_bug.cgi?product=MediaWiki&version=1.19-svn>`__. Plus il y a de testeurs *avant* la mise à niveau, moins il devrait y avoir de problèmes pendant et après.

*Ce message a été publié à l'origine sur le `blog technique de Wikimedia <https://blog.wikimedia.org/2012/02/11/mediawiki-1-19-deployment/>`__ (en anglais). Vous pouvez vous abonner au `flux RSS <https://blog.wikimedia.org/c/technology/feed>`__ du blog technique pour être tenu informé de développements similaires à l'avenir. Vous pouvez également `traduire cette annonce <https://www.mediawiki.org/wiki/MediaWiki_1.19/Deployment_announcement>`__ en d'autres langues.*
