doctype html
html.no-js(lang= locale)
    head
        meta(charset='utf-8')
        meta(name='viewport', content='width=device-width, initial-scale=1.0')
        title= title
        link(href='/bits/fumseck.css', rel='stylesheet')
            
    body
        header
            if image
                section.hero(style="background: url('/files/#{image}') no-repeat center center; background-size: cover;")
                    nav.top-bar(data-topbar role='navigation')
                        ul.title-area
                            li.name
                                h1
                                    a(href= __('topbar_home_link'), title= __('topbar_home_title')) guillaumepaumier
                            li.toggle-topbar.menu-icon
                                a(href='#') Menu
                        section.top-bar-section
                            ul.right
                                each item in ['articles', 'about', 'projects']
                                    li
                                        a(href= __('topbar_' + item + '_link'), title= __('topbar_' + item + '_title')) #{__('topbar_' + item + '_label')}
                    
                    div.row.intro
                        div.small-centered.medium-centered.large-centered
                            h1= title
                            p #{__('publish_date', moment(date).locale(locale).format('LL'))}
            else
                section.hero
                    div.row.intro
                        div.small-centered.medium-centered.large-centered
                            h1= title
                            p #{__('publish_date', moment(date).locale(locale).format('LL'))}

            if headings
                nav
                    ul
                        each header in headings
                            li
                                a(href!="##{header.id}")!= header.text        
                    
        article
                
            div.article-content.row!= contents
            p= topics
            
        nav#langs
            ul
                if locale != 'en' && typeof(lang('en')) != 'undefined'
                    li.lang-en: a(href='/'+ lang('en').path) English
                if locale != 'fr' && typeof(lang('fr')) != 'undefined'
                    li.lang-fr: a(href='/'+ lang('fr').path) fran√ßais
        nav#prevnext
            ul
                if previous
                    li#navprevious
                        a(href!="/#{previous.path}")= previous.title
                if next
                    li#navnext
                        a(href!="/#{next.path}")= next.title
        
        script(src='/bits/libs.js')
        script(src='/bits/fumseck.js')
        script require('bits/js/main').init()
