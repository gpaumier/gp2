{#  -*- coding: utf-8 -*- #}
{% import 'post_helper.tmpl' as helper with context %}
{% import 'post_header.tmpl' as pheader with context %}
{% extends 'base.tmpl' %}

{% block head %}
    <head>
        {% include "_head_post.tmpl" %}
    </head>
{% endblock %}

{% block header %}
    {% include "_header.tmpl" %}
{% endblock %}

{% block content %}
<article class="page h-entry hentry postpage {% if post.meta('class') %}{{ post.meta('class') }}{% endif %} custom-{{ post.meta('slug') }}" itemscope="itemscope" itemtype="http://schema.org/WebPage">

    <header>

        <h1 class="p-name entry-title" itemprop="headline name">{{ post.title()|e }}</h1>

        {% if post.meta('subtitle') %}
            <h1 class="subheader post-subtitle">{{ post.meta('subtitle') }}</h1>
        {% endif %}

        {{ post.text() | get_lead_figure }}

    </header>

    <div class="e-content entry-content" itemprop="articleBody text">
    {{ post.text() }}
    </div>

    {{ helper.mathjax_script(post) }}
</article>
{% endblock %}
